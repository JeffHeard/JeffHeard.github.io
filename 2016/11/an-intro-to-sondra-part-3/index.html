

  
    
  


  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.17">
    <title>An Intro to Sondra: Part 3</title>
    <meta name="author" content="Jefferson Heard">
    <meta name="keywords" content="">

    <link rel="icon" href="https://jeffersonheard.github.io/favicon.png">
    

    
    <meta name="description" content="Accessing Schemas If you missed them, see my previous tutorials covering first steps into Sondra and exposing your API to the web. This tutorial will cover accessing the JSON-Schema that underlies the API. All Sondra APIs are based on JSON-Schema, and dictate not only what the documents must look like coming in and out of Sondra, but also how to access method calls and query datasets.
First, let&rsquo;s start out with a simple call to the schema endpoint.">
    <meta property="og:description" content="Accessing Schemas If you missed them, see my previous tutorials covering first steps into Sondra and exposing your API to the web. This tutorial will cover accessing the JSON-Schema that underlies the API. All Sondra APIs are based on JSON-Schema, and dictate not only what the documents must look like coming in and out of Sondra, but also how to access method calls and query datasets.
First, let&rsquo;s start out with a simple call to the schema endpoint.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="An Intro to Sondra: Part 3">
    <meta property="og:url" content="/2016/11/an-intro-to-sondra-part-3/">
    <meta property="og:site_name" content="Jefferson Heard">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Jefferson Heard">
    <meta name="twitter:description" content="Accessing Schemas If you missed them, see my previous tutorials covering first steps into Sondra and exposing your API to the web. This tutorial will cover accessing the JSON-Schema that underlies the API. All Sondra APIs are based on JSON-Schema, and dictate not only what the documents must look like coming in and out of Sondra, but also how to access method calls and query datasets.
First, let&rsquo;s start out with a simple call to the schema endpoint.">
    
    

    
    

    
      <meta property="og:image" content="https://jeffersonheard.github.io/img/portrait.jpg">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://jeffersonheard.github.io/css/style-zfzvxnwixwz6qe7xv3xz1eyvlzc7cdfoxrgduk75zpqxib0hatbphiq9sddx.min.css" />
    <style>
      pre { overflow: auto; }
      .codeblock { overflow: auto; }
      figure.hightlight { overflow: auto; }
    </style>
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-68674847-2', 'auto');
ga('send', 'pageview');
</script>

    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://jeffersonheard.github.io/">Jefferson Heard</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://jeffersonheard.github.io/about">
    
    
    
      
        <img class="header-picture" src="https://jeffersonheard.github.io/img/portrait.jpg" alt="Author's picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://jeffersonheard.github.io/#about">
          <img class="sidebar-profile-picture" src="https://jeffersonheard.github.io/img/portrait.jpg" alt="Author's picture" />
        </a>
        <h4 class="sidebar-profile-name">Jefferson Heard</h4>
        
          <h5 class="sidebar-profile-bio">Technologist, CTO, experimental cook, hiker</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/jeffersonheard" target="_blank">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/jeffersonheard" target="_blank">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/sondra">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      <span class="sidebar-button-desc">Sondra Docs</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.365pronto.com" target="_blank">
    
      <i class="sidebar-button-icon fa fa-lg fa-briefcase"></i>
      <span class="sidebar-button-desc">365 Pronto</span>
    </a>
  </li>

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/consulting">
    
      <i class="sidebar-button-icon fa fa-lg fa-briefcase"></i>
      <span class="sidebar-button-desc">Consulting</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/resume.pdf">
    
      <i class="sidebar-button-icon fa fa-lg fa-file-text"></i>
      <span class="sidebar-button-desc">Resume</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://jeffersonheard.github.io/cv.pdf">
    
      <i class="sidebar-button-icon fa fa-lg fa-file-text"></i>
      <span class="sidebar-button-desc">CV</span>
    </a>
  </li>

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      An Intro to Sondra: Part 3
    </h1>
  
  <div class="post-meta">
  <time itemprop="datePublished" datetime="2016-11-18T00:00:00Z">
    Nov 18, 2016
  </time>
  
  
  
    <span>in</span>
    
      <a class="category-link" href="https://jeffersonheard.github.io/categories/coding">coding</a>
    
  


</div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<h2 id="accessing-schemas">Accessing Schemas</h2>

<p>If you missed them, see my previous tutorials covering
<a href="tutorial-1">first steps into Sondra</a> and <a href="tutorial-2">exposing your API to the web</a>.
This tutorial will cover accessing the JSON-Schema that underlies the API. All Sondra
APIs are based on JSON-Schema, and dictate not only what the documents must look like
coming in and out of Sondra, but also how to access method calls and query datasets.</p>

<p>First, let&rsquo;s start out with a simple call to the schema endpoint. A schema endpoint can
be accessed from every level of the API including suite, application, collection, and
document (although document schemas are typically the same as collection schemas).</p>

<h3 id="schema-endpoints">Schema Endpoints</h3>

<p>Let&rsquo;s look at this in a browser. Run the module in a terminal window, open your favorite browser, and
surf to <a href="http://localhost:5000/api;schema">http://localhost:5000/api;schema</a>.</p>

<pre><code class="language-json">{
    &quot;title&quot;: &quot;Sondra-Based API&quot;,
    &quot;definitions&quot;: {
        &quot;filterOps&quot;: {
            &quot;enum&quot;: [
                &quot;with_fields&quot;,
                &quot;count&quot;,
                &quot;max&quot;,
                &quot;min&quot;,
                &quot;avg&quot;,
                &quot;sample&quot;,
                &quot;sum&quot;,
                &quot;distinct&quot;,
                &quot;contains&quot;,
                &quot;pluck&quot;,
                &quot;without&quot;,
                &quot;has_fields&quot;,
                &quot;order_by&quot;,
                &quot;between&quot;
            ]
        },
        &quot;timedelta&quot;: {
            &quot;type&quot;: &quot;object&quot;,
            &quot;required&quot;: [
                &quot;start&quot;,
                &quot;end&quot;
            ],
            &quot;properties&quot;: {
                &quot;hours&quot;: {
                    &quot;type&quot;: &quot;integer&quot;
                },
                &quot;days&quot;: {
                    &quot;type&quot;: &quot;integer&quot;
                },
                &quot;seconds&quot;: {
                    &quot;type&quot;: &quot;number&quot;
                },
                &quot;minutes&quot;: {
                    &quot;type&quot;: &quot;integer&quot;
                }
            }
        },
        &quot;spatialOps&quot;: {
            &quot;enum&quot;: [
                &quot;distance&quot;,
                &quot;get_intersecting&quot;,
                &quot;get_nearest&quot;
            ]
        }
    },
    &quot;type&quot;: &quot;object&quot;,
    &quot;id&quot;: &quot;http://localhost:5000/api;schema&quot;,
    &quot;applications&quot;: {
        &quot;todo-app&quot;: &quot;http://localhost:5000/api/todo-app&quot;
    },
    &quot;description&quot;: &quot;*No description provided.*&quot;
}
</code></pre>

<p>That&rsquo;s pretty neat! A few basic datatypes exist in the definitions, mainly to define how filtering
and query-sets work. We&rsquo;ll get into those later.  For now, we&rsquo;ll focus on what we just created.  The
suite schema doesn&rsquo;t show us the data-type that we defined, but it does show a list of applications
and their endpoints in <code>.applications</code>. Note that our application is no longer CamelCase, but has
been turned into kabob-case. This is the default, but it can be configured otherwise. All levels
of the API are turned from CamelCase or underscore_separation into kabob-case by default, for
consistency, and because this is more typical of url patterns than the other case types.</p>

<h3 id="application-schema">Application Schema</h3>

<p>Let&rsquo;s check out the schema to todo-app.  We&rsquo;ll use the url
in the schema followed by <code>;schema</code>. Sondra is very regular about the way it treats urls. Formatting
and pragmas are handled using url parameters. This is different than changing the endpoint for the
file-type, which is typical of many other frameworks. The reason for this is that often, there are
multiple ways to render data and keep it in the same file type.  For instance, the <code>schema</code> and
<code>json</code> types allow you to control the ordering and whether data is pretty-printed with lines and
indentations. Other formats allow other parameters as we&rsquo;ll see later on.</p>

<pre><code class="language-json">{
  &quot;id&quot;: &quot;http://localhost:5000/api/todo-app;schema&quot;,
  &quot;definitions&quot;: {},
  &quot;collections&quot;: {
    &quot;items&quot;: &quot;http://localhost:5000/api/todo-app/items&quot;
  },
  &quot;type&quot;: &quot;object&quot;,
  &quot;title&quot;: &quot;Todo App&quot;,
  &quot;methods&quot;: {},
  &quot;description&quot;: &quot;*No description provided.*&quot;
}
</code></pre>

<p>This is the application schema.  Once again, this is rather succinct. There&rsquo;s not a lot of
information in here, but if there were methods defined at the application level we would see them
show up here.  One can also add application level schema fragment definitions in the class and
they would show up here.</p>

<h3 id="collection-schema">Collection Schema</h3>

<p>Let&rsquo;s move on to the items themselves. Go to <a href="http://localhost:5000/api/todo-app/items;schema;indent=2">http://localhost:5000/api/todo-app/items;schema;indent=2</a>.</p>

<pre><code class="language-json">{
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
    &quot;title&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;Title&quot;,
      &quot;description&quot;: &quot;The title of the item&quot;
    },
    &quot;complete&quot;: {
      &quot;type&quot;: &quot;boolean&quot;,
      &quot;title&quot;: &quot;Complete&quot;,
      &quot;default&quot;: false
    },
    &quot;created&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;Created&quot;,
      &quot;format&quot;: &quot;date-time&quot;
    },
    &quot;id&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;ID&quot;,
      &quot;description&quot;: &quot;The primary key.&quot;
    }
  },
  &quot;methods&quot;: {
    &quot;count&quot;: {
      &quot;id&quot;: &quot;count&quot;,
      &quot;oneOf&quot;: [
        {
          &quot;$ref&quot;: &quot;#/definitions/method_request&quot;
        },
        {
          &quot;$ref&quot;: &quot;#/definitions/method_response&quot;
        }
      ],
      &quot;title&quot;: &quot;Object Count&quot;,
      &quot;definitions&quot;: {
        &quot;method_request&quot;: {
          &quot;type&quot;: &quot;null&quot;,
          &quot;title&quot;: &quot;Object Count&quot;,
          &quot;side_effects&quot;: false,
          &quot;description&quot;: &quot;The number of objects in the collection.&quot;
        },
        &quot;method_response&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;title&quot;: &quot;Object Count&quot;,
          &quot;properties&quot;: {
            &quot;\_&quot;: {
              &quot;type&quot;: &quot;number&quot;
            }
          },
          &quot;description&quot;: &quot;The number of objects in the collection.&quot;
        }
      },
      &quot;description&quot;: &quot;The number of objects in the collection.&quot;
    },
    &quot;key-list&quot;: {
      &quot;id&quot;: &quot;key-list&quot;,
      &quot;oneOf&quot;: [
        {
          &quot;$ref&quot;: &quot;#/definitions/method_request&quot;
        },
        {
          &quot;$ref&quot;: &quot;#/definitions/method_response&quot;
        }
      ],
      &quot;title&quot;: &quot;Keys&quot;,
      &quot;definitions&quot;: {
        &quot;method_request&quot;: {
          &quot;type&quot;: &quot;null&quot;,
          &quot;title&quot;: &quot;Keys&quot;,
          &quot;side_effects&quot;: false,
          &quot;description&quot;: &quot;*No description provided*&quot;
        },
        &quot;method_response&quot;: {
          &quot;type&quot;: &quot;array&quot;,
          &quot;title&quot;: &quot;Keys&quot;,
          &quot;items&quot;: {
            &quot;type&quot;: &quot;string&quot;
          },
          &quot;description&quot;: &quot;*No description provided*&quot;
        }
      },
      &quot;description&quot;: &quot;*No description provided*&quot;
    },
    &quot;autocomplete&quot;: {
      &quot;id&quot;: &quot;autocomplete&quot;,
      &quot;oneOf&quot;: [
        {
          &quot;$ref&quot;: &quot;#/definitions/method_request&quot;
        },
        {
          &quot;$ref&quot;: &quot;#/definitions/method_response&quot;
        }
      ],
      &quot;title&quot;: &quot;Autocomplete&quot;,
      &quot;definitions&quot;: {
        &quot;method_request&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;title&quot;: &quot;Autocomplete&quot;,
          &quot;properties&quot;: {
            &quot;partial&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;title&quot;: &quot;Partial&quot;,
              &quot;description&quot;: &quot;A regular expression to match on any and all of the autocomplete fields.&quot;
            }
          },
          &quot;side_effects&quot;: false,
          &quot;description&quot;: &quot;Search results based on a partial input as a regex&quot;
        },
        &quot;method_response&quot;: {
          &quot;type&quot;: &quot;array&quot;,
          &quot;title&quot;: &quot;Autocomplete&quot;,
          &quot;items&quot;: {
            &quot;type&quot;: &quot;object&quot;,
            &quot;properties&quot;: {
              &quot;k&quot;: {
                &quot;type&quot;: &quot;string&quot;
              },
              &quot;v&quot;: {
                &quot;type&quot;: &quot;string&quot;
              }
            }
          },
          &quot;description&quot;: &quot;Search results based on a partial input as a regex&quot;
        }
      },
      &quot;description&quot;: &quot;Search results based on a partial input as a regex&quot;
    },
    &quot;key-map&quot;: {
      &quot;id&quot;: &quot;key-map&quot;,
      &quot;oneOf&quot;: [
        {
          &quot;$ref&quot;: &quot;#/definitions/method_request&quot;
        },
        {
          &quot;$ref&quot;: &quot;#/definitions/method_response&quot;
        }
      ],
      &quot;title&quot;: &quot;Key Map&quot;,
      &quot;definitions&quot;: {
        &quot;method_request&quot;: {
          &quot;type&quot;: &quot;null&quot;,
          &quot;title&quot;: &quot;Key Map&quot;,
          &quot;side_effects&quot;: false,
          &quot;description&quot;: &quot;*No description provided*&quot;
        },
        &quot;method_response&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;title&quot;: &quot;Key Map&quot;,
          &quot;description&quot;: &quot;*No description provided*&quot;
        }
      },
      &quot;description&quot;: &quot;*No description provided*&quot;
    }
  },
  &quot;definitions&quot;: {
    &quot;filterOps&quot;: {
      &quot;enum&quot;: [
        &quot;with_fields&quot;,
        &quot;count&quot;,
        &quot;max&quot;,
        &quot;min&quot;,
        &quot;avg&quot;,
        &quot;sample&quot;,
        &quot;sum&quot;,
        &quot;distinct&quot;,
        &quot;contains&quot;,
        &quot;pluck&quot;,
        &quot;without&quot;,
        &quot;has_fields&quot;,
        &quot;order_by&quot;,
        &quot;between&quot;
      ]
    },
    &quot;timedelta&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;required&quot;: [
        &quot;start&quot;,
        &quot;end&quot;
      ],
      &quot;properties&quot;: {
        &quot;hours&quot;: {
          &quot;type&quot;: &quot;integer&quot;
        },
        &quot;days&quot;: {
          &quot;type&quot;: &quot;integer&quot;
        },
        &quot;seconds&quot;: {
          &quot;type&quot;: &quot;number&quot;
        },
        &quot;minutes&quot;: {
          &quot;type&quot;: &quot;integer&quot;
        }
      }
    },
    &quot;spatialOps&quot;: {
      &quot;enum&quot;: [
        &quot;distance&quot;,
        &quot;get_intersecting&quot;,
        &quot;get_nearest&quot;
      ]
    }
  },
  &quot;template&quot;: &quot;{id}&quot;,
  &quot;documentMethods&quot;: {
    &quot;rel&quot;: {
      &quot;id&quot;: &quot;\*rel&quot;,
      &quot;oneOf&quot;: [
        {
          &quot;$ref&quot;: &quot;#/definitions/method_request&quot;
        },
        {
          &quot;$ref&quot;: &quot;#/definitions/method_response&quot;
        }
      ],
      &quot;title&quot;: &quot;Related Documents&quot;,
      &quot;definitions&quot;: {
        &quot;method_request&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;app&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;title&quot;: &quot;App&quot;,
              &quot;description&quot;: &quot;The slug of the application ``coll`` is in.&quot;
            },
            &quot;coll&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;title&quot;: &quot;Coll&quot;,
              &quot;description&quot;: &quot;The slug of the collection to search for documents in.&quot;
            },
            &quot;related_key&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;title&quot;: &quot;Related Key&quot;,
              &quot;description&quot;: &quot;The name of the key to search for this document in.If none, defaults to the first matching foreign key element.&quot;
            }
          },
          &quot;required&quot;: [
            &quot;app&quot;,
            &quot;coll&quot;
          ],
          &quot;title&quot;: &quot;Related Documents&quot;,
          &quot;description&quot;: &quot;Reverse relation.  Get a query set of all documents in a collection that have foreign keys that point to this document.&quot;,
          &quot;side_effects&quot;: false
        },
        &quot;method_response&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {},
          &quot;title&quot;: &quot;Related Documents&quot;,
          &quot;description&quot;: &quot;Reverse relation.  Get a query set of all documents in a collection that have foreign keys that point to this document.&quot;
        }
      },
      &quot;description&quot;: &quot;...&quot;
    }
  },
  &quot;primary_key&quot;: &quot;id&quot;,
  &quot;description&quot;: &quot;No Description Provided.&quot;,
  &quot;title&quot;: &quot;Item&quot;,
  &quot;id&quot;: &quot;http://localhost:5000/api/todo-app/items;schema&quot;
}
</code></pre>

<p>That&rsquo;s a lot more information!. This may look very dense, but it contains all the methods and inherits
all the schema from the application and suite objects as well. This allows buggy JSON schema parsers
to find references without having to fetch other documents in the course of resolving references.</p>

<p>Let&rsquo;s remove the methods for a moment and see what we have:</p>

<pre><code class="language-json">{
  &quot;template&quot;: &quot;{id}&quot;,
  &quot;primary_key&quot;: &quot;id&quot;,
  &quot;description&quot;: &quot;No Description Provided.&quot;,
  &quot;title&quot;: &quot;Item&quot;,
  &quot;id&quot;: &quot;http://localhost:5000/api/todo-app/items;schema&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;required&quot;: [&quot;title&quot;],
  &quot;properties&quot;: {
    &quot;title&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;Title&quot;,
      &quot;description&quot;: &quot;The title of the item&quot;
    },
    &quot;complete&quot;: {
      &quot;type&quot;: &quot;boolean&quot;,
      &quot;title&quot;: &quot;Complete&quot;,
      &quot;default&quot;: false
    },
    &quot;created&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;Created&quot;,
      &quot;format&quot;: &quot;date-time&quot;
    },
    &quot;id&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;title&quot;: &quot;ID&quot;,
      &quot;description&quot;: &quot;The primary key.&quot;
    }
  }
}
</code></pre>

<p>JSON-Schema tells us what we&rsquo;re looking at here, but just to be clear, all Sondra has done is
translated the code into JSON for the client. There are a few properties that are extra to JSON
Schema, such as <code>template</code> and <code>primary_key</code>. These are defined by Sondra. Template describes how
one would create a visual representation for a record. Primary key lets you know what data field to
use to address documents as endpoints. If you had a document with id <code>00ab-00ac-00ad-00ae</code> then you
would access it via the API as <code>http://localhost:5000/api/todo-app/items/00ab-00ac-00ad-00ae</code>.</p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
              
                <div class="post-footer-tags">
                  <span class="text-color-light text-small">TAGGED IN</span><br/>
                  
  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/sondra/">sondra</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/python/">python</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/rethinkdb/">rethinkdb</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/flask/">flask</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/rest/">rest</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/tutorials/">tutorials</a>

  <a class="tag tag--primary tag--small" href="https://jeffersonheard.github.io/tags/open-source/">open source</a>

                </div>
              
            
            <div class="post-actions-wrap">
  <nav>
    <ul class="post-actions post-action-nav">
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default tooltip--top" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-4/" data-tooltip="An Intro to Sondra: Part 4">
        
          <i class="fa fa-angle-left"></i>
          <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
        </a>
      </li>
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default tooltip--top" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-2/" data-tooltip="An Intro to Sondra: Part 2">
        
          <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
          <i class="fa fa-angle-right"></i>
        </a>
      </li>
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
        <i class="fa fa-share-alt"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-google-plus"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-facebook-official"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    Copyrights &copy; 2016 Jefferson Heard. All Rights Reserved.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  <nav>
    <ul class="post-actions post-action-nav">
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default tooltip--top" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-4/" data-tooltip="An Intro to Sondra: Part 4">
        
          <i class="fa fa-angle-left"></i>
          <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
        </a>
      </li>
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default tooltip--top" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-2/" data-tooltip="An Intro to Sondra: Part 2">
        
          <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
          <i class="fa fa-angle-right"></i>
        </a>
      </li>
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
        <i class="fa fa-share-alt"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-google-plus"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-facebook-official"></i>
      </a>
    </li>
    <li class="post-action hide-xs">
      <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <ul class="share-options">
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-google-plus"></i><span>Share on Google Plus</span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fjeffersonheard.github.io%2f2016%2f11%2fan-intro-to-sondra-part-3%2f">
        <i class="fa fa-twitter"></i><span>Share on Twitter</span>
      </a>
    </li>
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://jeffersonheard.github.io/img/portrait.jpg" alt="Author's picture" />
    
    <h4 id="about-card-name">Jefferson Heard</h4>
    
      <div id="about-card-bio">Technologist, CTO, experimental cook, hiker</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        CTO, <a href="https://www.365pronto.com">365 Pronto</a>
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        France
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search "
          autofocus="autofocus"/>
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/12/saturday-night-dinners-lemongrass-curry-soup/">
                <h3 class="media-heading">Saturday Night Dinners: Lemongrass Curry Soup</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I was going for something Thai-ish without following any particular recipe. What I came out with was pretty incredible. A lot like Tom Kha, but not exactly. Use a fairly light vegetable broth for this recipe: either a miso broth or I use the Swanson&rsquo;s organic vegetable broth. The taste of this one is at once hearty and very very full of Spring. The whole thing took about 35 minutes from start to finish.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/12/sunday-brunch-fried-pears-and-pecans/">
                <h3 class="media-heading">Sunday Brunch: Fried Pears and Pecans</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I should really start taking pictures if I&rsquo;m going to post recipes. But imagine if you will a plate of pear slices, fried until they are golden brown on both sides, the outside crispy, the inside smooth and sweet, and all of it covered in streusel that tastes amazing. Got it? Good. Here goes. Serves 1.
Ingredients  1 pear 2 tbl butter Small handful of fresh sage leaves 1&frasl;4 cp crushed pecans 1&frasl;2 tsp cinnamon 1&frasl;2 tsp nutmeg Salt 1tbl Brown sugar  I slice my pear flat, with slices about 1&frasl;4 inch thick (half a cm).</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/simplifying-complex-business-logic-with-pythons-kanren/">
                <h3 class="media-heading">Simplifying complex business logic with Python&#39;s Kanren</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">So-called &ldquo;logic programming&rdquo; has been a niche programming topic since Prolog was introduced in the 80s. In my experience, most posts that cover logic programming introduce the core concepts and stop there. The examples they give are mostly toy problems. This post, then, will start with &ldquo;what you can do with logic programming in Python&rdquo; and move toward the core concepts that way.
If you&rsquo;re looking for an explanation of unification or a history of logic programming, and why you should even write web-servers this way, there are plenty of posts that will extoll the virtues of logic programming over other methods.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/saturday-night-dinner-three-alarm-plate-of-awesome/">
                <h3 class="media-heading">Saturday Night Dinner: Three-Alarm Plate of Awesome</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">What is a three-alarm plate of awesome? Roasted red peppers and roasted eggplant, tossed and fried in mustard oil, bay leaf, and spices (cayenne, cinnamon, turmeric). Served over polenta, and it was perfect.
Recipe, and sorry, this one&rsquo;s a bit involved, because roasting peppers requires attention:
 2 red bell peppers 2 jalapeños 1 med. eggplant olive oil for brushing 1/2tsp cayenne 1/2tsp turmeric 1tbl mustard seed 1 bay leaf 1 shallot  Preheat the oven to 500 degrees, Coat the skin of the peppers in olive oil (lightly) and set down on a cookie sheet (you can use the bare oven, but be prepared for a mess if the pepper sags through).</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/review-secret-of-kells-and-song-of-the-sea/">
                <h3 class="media-heading">Review: Secret of Kells and Song of the Sea</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Source: Roger Ebert
 Pangur Bán Pangur, white Pangur, How happy we are Alone together, scholar and cat Each has his own work to do daily; For you it is hunting, for me study. Your shining eye watches the wall; My feeble eye is fixed on a book. You rejoice, when your claws entrap a mouse; I rejoice when my mind fathoms a problem. Pleased with his own art, neither hinders the other; Thus we live ever without tedium and envy.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/creating-new-fields-and-widgets-for-mozillas-react-jsonschema-form/">
                <h3 class="media-heading">Creating new fields and widgets for Mozilla&#39;s react-jsonschema-form</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Mozilla&rsquo;s react-jsonschema-form is my favorite tool to build forms. Its forms play well with REST APIs, they look good, and they are easy to work with and extend. In the most basic usage, you take a JSON-Schema and simply pass it to the component like so:
import React, { PropTypes } from 'react'; import Form from 'react-jsonschema-form'; const mySchema = { ... } const changeHandler = ({formData}) =&gt; { .</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/hydroshare-part-1-overview-of-a-long-project/">
                <h3 class="media-heading">Hydroshare, Part 1: Overview of a long project</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">The last project I worked on at UNC was as Chief Software Architect of the Hydroshare project. It was the most challenging exercise I ever undertook at UNC, and I&rsquo;m proudest of it, despite the fact that I can&rsquo;t claim to have done everything right. In fact I made some blunders, but ones I hope I&rsquo;ve learned from.
I left the Hydroshare project after I believed that it was on the right path, and handed my role off to two of the brightest people I know in software management and development at Renci.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-4/">
                <h3 class="media-heading">An Intro to Sondra: Part 4</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Adding data in Python The simplest way to add data is through Python. Data can be added from Python even to private collections, and methods can be called without authentication. This means that code that calls methods and creates objects, perhaps as part of other methods, should do sufficient permission checking to cover both itself and the potential mutations to data caused by the methods and collections it calls.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-3/">
                <h3 class="media-heading">An Intro to Sondra: Part 3</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Accessing Schemas If you missed them, see my previous tutorials covering first steps into Sondra and exposing your API to the web. This tutorial will cover accessing the JSON-Schema that underlies the API. All Sondra APIs are based on JSON-Schema, and dictate not only what the documents must look like coming in and out of Sondra, but also how to access method calls and query datasets.
First, let&rsquo;s start out with a simple call to the schema endpoint.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://jeffersonheard.github.io/2016/11/an-intro-to-sondra-part-2/">
                <h3 class="media-heading">An Intro to Sondra: Part 2</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Part 2 of our tutorials on Sondra build on our sample application from part 1 and covers exposing the API on the web. Basically we will add one more module, which creates a Flask app. The app I show below does very little more than the basic Flask app. It adds compression, because that&rsquo;s pretty standard these days and supported by almost all browsers. It&rsquo;s also a good idea with APIs where responses can get very long.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         12 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://jeffersonheard.github.io/images/cover-blueridge-4.jpg');"></div>
  


    
<script src="https://jeffersonheard.github.io/js/script-lrchyhb5kddxeiejst2qhr1sqb7vhfxkdhrigadzb4moxbk6your91edbeqz.min.js" type="text/javascript"></script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight').each(function(i, block) {
    var code = "";
    hljs.highlightAuto(block.innerText).value.split(/\r\n|\r|\n/).forEach(function(line) {
      code += "<span class=\"line\">" + line + "</span><br>";
    });
    if (code.length > 0) {
      block.innerHTML = code;  
    }
  });
  $('pre > code').each(function(i, block) {
    $(this).addClass('codeblock');
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/jeffersonheard.github.io\/2016\/11\/an-intro-to-sondra-part-3\/';
          
            this.page.identifier = '\/2016\/11\/an-intro-to-sondra-part-3\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'jeffersonheard-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  


  </body>
</html>
